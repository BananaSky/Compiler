CXX        = g++
CXXFLAGS   = -c -Wall -std=c++14
LDFLAGS    =
TESTBDIR   = tests/build
BDIR       = build
VPATH      = tests 
SOURCES    = match_tests.cpp suite.cpp lex_tests.cpp 
PREBUILT   = Templates.o Locale.o Language.o Seperate.o Lex.o 
PREOBJS    = $(PREBUILT:%.o=$(BDIR)/%.o)
OBJECTS    = $(SOURCES:%.cpp=$(TESTBDIR)/%.o)
EXECUTABLE = $(TESTBDIR)/suite


all: $(SOURCES) $(PREOBJS) $(EXECUTABLE)

$(EXECUTABLE): $(OBJECTS)
	$(CXX) $(LDFLAGS) $(OBJECTS) $(PREOBJS) -o $@

$(TESTBDIR)/%.o: %.cpp
	$(CXX) $(CXXFLAGS) $< -o $@

$(BDIR)/%.o:
	make all
